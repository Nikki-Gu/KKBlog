---
title: 面向对象
order: 2
copyright: <a href="https://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0协议</a>
---

### 对象引用和对象实例的区别

对象实例在堆中、对象引用存放在栈中

对象引用存储对象实例的内存地址



### 构造方法的特点

1. 方法名和类名相同
2. 默认无参构造方法（提供有参构造默认无参构造消失）
3. 生成对象时自动执行，无需调用
4. 没有返回值，也不能用void声明



### 面向对象三大特征

- 封装：属性私有；get/set；重载构造方法
- 继承：this；super；重写基类方法
- 多态：一个对象有多种状态（可以进行类型转换）
  - 具体执行的方法在运行时才能确定
  - 对象能执行的方法看左边声明的类型，不能调用子类独有的方法
  - 存在条件：
    - 继承
    - 重写
    - 父类的引用可以指向子类的实例



### 引用拷贝-浅拷贝-深拷贝

引用拷贝：只复制引用，指向的对象不变

浅拷贝：在堆上复制对象但是对象里面只复制引用

深拷贝：完全复制对象

深拷贝和浅拷贝是指在复制一个对象时，拷贝的深度不同。 区别是**浅拷贝是拷贝了对象的引用，当原对象发生变化的时候，拷贝对象也跟着变化；深拷贝是另外申请了一块内存，内容和原对象一样，更改原对象，拷贝对象不会发生变化**



## 抽象类和接口

### 抽象类和普通类的区别

1. 抽象类可以包含抽象方法，普通类不可以
2. 抽象类不能实例化，普通类可以

除此之外，抽象类有和普通类相同的属性和特征

抽象类是创建类的模版



### 接口和普通类的区别

1. 接口不能实例化对象
2. 一个类可以实现多个接口，类不能多继承

3. 接口中方法默认为public abstract，类中没有这个默认
   1. 默认为protected abstract
   2. 可以有default和private和static
4. 接口中属性只能为public static final，必须初始化，类中没有这个要求
5. 接口中没有构造方法，没有静态代码块



接口和抽象类的区别是上述所有除了1



> 为什么要有接口？抽象类不能满足需求吗？
>
> ​	接口强调行为，类强调的是所属关系。比如播放视频不需要抽象为一个抽象类，但可以定义一个接口



### 抽象类和接口的共同点

1. 都不能被实例化
2. 都可以包含抽象方法，也可以没有
3. 都可以有默认方法



## Object

### Object类的11个方法

Object是所有类的基类

### toString()方法

默认返回格式：**对象的 class 名称 + @ + hashCode 的十六进制字符串**



### equals()方法比较的是什么

没有被重写的话比较的是对象的内存地址



### hashCode作用

hashCode并不都是 "地址" 或者 "地址转换而来", 有六种计算方式，其中第五种是地址



获取对象对应的哈希码（int整数，32位）

哈希码可以方便确认对象在哈希表中的索引，在将对象加入HashMap、HashSet时效率更高



重写equals必须重写hashcode方法：因为equals判断相等的两个对象的hashcode必须也是相等的

